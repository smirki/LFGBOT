"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("reflect-metadata");
function getPluginIterableProps(plugin) {
    // Have to do this to access class methods
    const nonEnumerableProps = Object.getOwnPropertyNames(plugin.prototype);
    const enumerableProps = Object.keys(plugin);
    return [...nonEnumerableProps, ...enumerableProps];
}
exports.getPluginIterableProps = getPluginIterableProps;
function getPluginDecoratorCommands(plugin) {
    return Array.from(getPluginIterableProps(plugin)).reduce((arr, prop) => {
        if (typeof plugin.prototype[prop] !== "function") {
            return arr;
        }
        const decoratorCommands = Reflect.getMetadata("commands", plugin.prototype, prop) || [];
        if (decoratorCommands)
            arr.push(...decoratorCommands);
        return arr;
    }, []);
}
exports.getPluginDecoratorCommands = getPluginDecoratorCommands;
function getPluginDecoratorEventListeners(plugin) {
    return Array.from(getPluginIterableProps(plugin)).reduce((arr, prop) => {
        if (typeof plugin.prototype[prop] !== "function") {
            return arr;
        }
        const decoratorEvents = Reflect.getMetadata("events", plugin.prototype, prop);
        if (decoratorEvents)
            arr.push(...decoratorEvents);
        return arr;
    }, []);
}
exports.getPluginDecoratorEventListeners = getPluginDecoratorEventListeners;
//# sourceMappingURL=pluginUtils.js.map